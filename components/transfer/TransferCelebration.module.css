/* ============================================
   Transfer Celebration Component
   ============================================ */

/* Overlay */
.overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: rgba(0, 0, 0, 0.7);
  backdrop-filter: blur(4px);
  z-index: 9999;
  transition: opacity 300ms ease-out;
}

.overlayVisible {
  opacity: 1;
  pointer-events: auto;
}

.overlayHidden {
  opacity: 0;
  pointer-events: none;
}

/* Container */
.container {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-6, 1.5rem);
  padding: var(--space-8, 2rem);
  max-width: 90vw;
  width: 400px;
}

/* ============================================
   Checkmark Animation
   ============================================ */

.checkmarkWrapper {
  position: relative;
  width: 120px;
  height: 120px;
  animation: checkmark-bounce 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.checkmark {
  width: 100%;
  height: 100%;
  display: block;
}

.checkmarkCircle {
  stroke: var(--success-500);
  stroke-width: 2;
  stroke-miterlimit: 10;
  fill: none;
  animation: checkmark-circle-scale 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.checkmarkCheck {
  transform-origin: 50% 50%;
  stroke: var(--success-500);
  stroke-width: 3;
  stroke-linecap: round;
  stroke-linejoin: round;
  stroke-dasharray: 48;
  stroke-dashoffset: 48;
  animation: checkmark-check-draw 0.4s cubic-bezier(0.65, 0, 0.45, 1) 0.2s forwards;
}

@keyframes checkmark-bounce {
  0% {
    transform: scale(0);
    opacity: 0;
  }
  50% {
    transform: scale(1.1);
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes checkmark-circle-scale {
  0% {
    transform: scale(0);
    opacity: 0;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes checkmark-check-draw {
  0% {
    stroke-dashoffset: 48;
  }
  100% {
    stroke-dashoffset: 0;
  }
}

/* ============================================
   Confetti Particles
   ============================================ */

.confetti {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 1px;
  height: 1px;
  pointer-events: none;
}

.particle {
  position: absolute;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background-color: var(--particle-color, var(--accent));
  animation: particle-burst 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
  animation-delay: var(--particle-delay, 0s);
  opacity: 0;
}

@keyframes particle-burst {
  0% {
    transform: translate(0, 0) rotate(0deg) scale(0);
    opacity: 1;
  }
  50% {
    opacity: 1;
  }
  100% {
    transform:
      translate(
        calc(cos(var(--particle-angle, 0deg)) * 100px),
        calc(sin(var(--particle-angle, 0deg)) * 100px)
      )
      rotate(720deg)
      scale(0.5);
    opacity: 0;
  }
}

/* ============================================
   Success Message
   ============================================ */

.messageWrapper {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-2, 0.5rem);
  text-align: center;
  animation: message-fade-in 0.5s ease-out 0.4s forwards;
  opacity: 0;
}

.title {
  font-size: var(--font-size-2xl, 1.5rem);
  font-weight: var(--font-weight-bold, 700);
  color: var(--text-primary, #fafafa);
  margin: 0;
  line-height: 1.2;
}

.fileName {
  font-size: var(--font-size-sm, 0.875rem);
  font-weight: var(--font-weight-medium, 500);
  color: var(--text-secondary, #a1a1aa);
  margin: 0;
  max-width: 300px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

@keyframes message-fade-in {
  0% {
    opacity: 0;
    transform: translateY(10px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ============================================
   Mobile Responsive
   ============================================ */

@media (max-width: 640px) {
  .container {
    width: 320px;
    padding: var(--space-6, 1.5rem);
  }

  .checkmarkWrapper {
    width: 100px;
    height: 100px;
  }

  .title {
    font-size: var(--font-size-xl, 1.25rem);
  }

  .fileName {
    font-size: var(--font-size-xs, 0.75rem);
    max-width: 250px;
  }

  .particle {
    width: 6px;
    height: 6px;
  }

  @keyframes particle-burst {
    0% {
      transform: translate(0, 0) rotate(0deg) scale(0);
      opacity: 1;
    }
    50% {
      opacity: 1;
    }
    100% {
      transform:
        translate(
          calc(cos(var(--particle-angle, 0deg)) * 60px),
          calc(sin(var(--particle-angle, 0deg)) * 60px)
        )
        rotate(720deg)
        scale(0.5);
      opacity: 0;
    }
  }
}

/* ============================================
   Reduced Motion
   ============================================ */

@media (prefers-reduced-motion: reduce) {
  .overlay {
    transition: opacity 150ms ease-out;
  }

  .checkmarkWrapper {
    animation: checkmark-simple 0.3s ease-out forwards;
  }

  .checkmarkCircle,
  .checkmarkCheck {
    animation: none;
    opacity: 1;
    transform: none;
    stroke-dashoffset: 0;
  }

  .particle {
    /* Hide particles entirely for reduced motion */
    display: none;
  }

  .messageWrapper {
    animation: message-simple 0.3s ease-out forwards;
  }

  @keyframes checkmark-simple {
    0% {
      opacity: 0;
    }
    100% {
      opacity: 1;
    }
  }

  @keyframes message-simple {
    0% {
      opacity: 0;
    }
    100% {
      opacity: 1;
    }
  }
}
